<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8">
  <title>товарно дело тест</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: url('https://images.unsplash.com/photo-1604032549343-5c232d9d219d?auto=format&fit=crop&w=1950&q=80') no-repeat center center fixed;
      background-size: cover;
      padding: 20px;
      max-width: 960px;
      margin: auto;
      color: #333;
    }
    .question-box {
      background: rgba(255, 255, 255, 0.95);
      padding: 20px;
      margin-bottom: 20px;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    }
    .question-text {
      font-size: 20px;
      font-weight: bold;
      margin-bottom: 15px;
    }
    .option {
      display: block;
      margin: 6px 0;
      padding: 12px;
      background: #eee;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      text-align: left;
      font-size: 16px;
      transition: background 0.3s;
    }
    .option.correct {
      background-color: #28a745 !important;
      color: white;
      font-weight: bold;
    }
    .option.incorrect {
      background-color: #dc3545 !important;
      color: white;
      font-weight: bold;
    }
    .option.disabled {
      pointer-events: none;
      opacity: 0.6;
    }
    .next-button, .prev-button {
      margin-top: 15px;
      padding: 10px 20px;
      font-size: 16px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      display: inline-block;
      margin-right: 10px;
    }
    .navigation-wrapper {
      max-height: 120px;
      overflow-x: auto;
      overflow-y: hidden;
      margin-bottom: 30px;
      padding-bottom: 10px;
    }
    .navigation {
      display: flex;
      gap: 5px;
      flex-wrap: nowrap;
    }
    .nav-button {
      padding: 8px 12px;
      font-size: 14px;
      cursor: pointer;
      border-radius: 6px;
      border: 1px solid #ccc;
      background-color: #f1f1f1;
      transition: background 0.3s, color 0.3s;
      flex: 0 0 auto;
    }
    .nav-button.active {
      background-color: #007bff;
      color: white;
    }
    .nav-button.correct {
      background-color: #28a745;
      color: white;
    }
    .nav-button.incorrect {
      background-color: #dc3545;
      color: white;
    }
    .scoreboard {
      font-size: 18px;
      margin-bottom: 15px;
      background: rgba(255, 255, 255, 0.85);
      padding: 10px 15px;
      border-radius: 10px;
      display: inline-block;
    }
  </style>
</head>
<body>
  <h1>товарно дело тест</h1>
  <div class="scoreboard" id="scoreboard">Верен: 0 | Грешен: 0</div>
  <div class="navigation-wrapper">
    <div class="navigation" id="navigation"></div>
  </div>
  <div id="quiz-container"></div>

  <script>
    function shuffleArray(arr) {
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
    }

    const allQuestions = [
      { question: "Корабните нефтени дневници са", options: ["1 вид – за всички кораби.", "за всеки вид кораби.", "3 вида - за танкери, за химикаловози и за всички останали.", "2 вида – за танкери и за всички останали."], correct: 3 },
      { question: "В кои райони могат да се изхвърлят пластмаси зад борд?", options: ["В крайбрежни води.", "На 100 мили от брега.", "В специални райони описани в (ref. MARPOL).", "Никъде не е разрешено."], correct: 3 },
      { question: "На кораба трябва да има Дневник за отпадъци. Кой от следните факти не е нужно да бъде вписан?", options: ["Типа на изхвърлените отпадъци.", "Място на изхвърляне на отпадъците.", "Дата на изхвърляне на отпадъците.", "Името на лицето отговорно за попълването на дневника."], correct: 3 },
      { question: "Какво ще направите с пепелта от изгорени в инсенератора продукти садържащи пластмаси", options: ["Да се хвърлят зад борд, ако кораба не е в река или в устието на река.", "Да се хвърлят зад борд когато кораба е на повече от 25 мили от брега.", "Да се хвърлят зад борд когато кораба е на повече от 12 мили от брега.", "Да бъдат предадени на брегови приемателен пункт."], correct: 3 },
      { question: "Кое е най важното условие да се предотврати петролен разлив по време на бункеровачни операции", options: ["Да има достатъчно обем в тавата (drip-tray) под манифолда.", "Да има оборудвани Sandpiper pumps в задната част на tank-deck.", "Да има дървени стърготини близо до манифолда.", "Всички шпигати да бъдат затворени."], correct: 3 },
      { question: "Какъв е най-добрият начин за да се предотврати замърсяване на водата при малки разливи с нефтопродукти на борда на кораба?", options: ["Да има разпръскващи химикали готови за употреба в случай на нефтен разлив.", "Да се постави боново заграждение около кораба.", "Да има дървени стърготини готови за употреба.", "Ограничете разлива на борда на кораба."], correct: 3 },
      { question: "Съгласно MARPOL, оборудването за сепариране на смеси от нефт и вода, трябва да е сертифицирано за", options: ["10 ppm", "50 ppm", "25 ppm", "15 ppm"], correct: 3 },
      { question: "Отпадни води (sewage) по смисъла на Анекс ІV на МАРПОЛ са", options: ["отточни води и отпадъци от тоалетни, писоари, медицинския лазарет или води смесени с предходните.", "отточни води от тоалетни, писоари.", "отточни води от тоалетни, писоари, медицинския лазарет.", "отточни води и отпадъци от тоалетни, писоари, медицинския лазарет, помещенията, в които има живи животни или води смесени с предходните."], correct: 3 },
      { question: "Разрешено ли е в района на Черно и Средиземно море да се изхвърлят замърсени масла и с други нефтопродукти материали, като парцали, дървени стърготини и т.п.", options: ["Да, ако корабът е на ход и на повече от 50 мили от брега.", "Да, но само в открито море на разстояние по-голямо от 12 мили.", "Да, но само ако са в малки количества до 1-2 килограма.", "Не, те се събират на кораба в отделни контейнери или се изгарят."], correct: 3 },
      { question: "Правилата на Анекс VI на MARPOL 73/78 се отнасят за предотвратяване", options: ["замърсяването на морето с нефт.", "замърсяването на морската среда от кораби.", "преноса на видове-пришълци с корабните баластни води.", "замърсяването на въздуха от кораби."], correct: 3 },
      { question: "Какъв нов дневник въвежда Анекс VI на MARPOL?", options: ["Дневник за операциите в машинното отделение на корабите.", "Дневник за управление на корабните отпадъци.", "Дневник за баластните операции на кораба.", "Дневник за разрушаващите озоновия слой вещества."], correct: 3 },
      { question: "При престой на кораб в българско пристанище не се разрешава използването на горива, чието съдържание на сяра превишава (% m/m - percent by mass)", options: ["0,2 % m/m.", "3,5 % m/m.", "1.0 kg/tonne.", "0,1 % m/m."], correct: 3 },
      { question: "Международно свидетелство за енергийна ефективност се изисква съгласно правилата на", options: ["Глава II-2 на SOLAS 74/78.", "Анекс III на MARPOL 73/78.", "MLC '2006.", "Анекс VI на MARPOL 73/78."], correct: 3 },
      { question: "Международно свидетелство за предотвратяване замърсяването с корабни отпадъци (International Garbage Pollution Prevention Certificate) се изисква", options: ["се изисква за всички кораби, извършващи международни рейсове.", "е само за корабите от каботажно плаване.", "се изисква за корабите над 400 GT.", "не се изисква."], correct: 3 },
      { question: "С План за управление на корабните отпадъци (Garbage Management Plan) по смисъла на MARPOL Annex V трябва да са снабдени", options: ["всички кораби с тонаж GT ≥ 100.", "всички кораби, освидетелствани да превозват ≤ 15 души.", "всички кораби с GT ≥ 400.", "всички кораби с тонаж GT ≥ 100, както и тези, освидетелствани да превозват ≥ 15 души."], correct: 3 },
      { question: "Наличието на машина за раздробяване на твърди отпадъци (garbage comminuter) трябва да е документирано в", options: ["Дневник за операциите в машинното отделение на корабите.", "Дневника за операциите с твърдите корабни отпадъци (Garbage Record Book)", "Supplement to the International Garbage Pollution Prevention Certificate.", "Плана за управление на корабните отпадъци (Garbage Management Plan)"], correct: 3 },
      { question: "Извън особените райони (special areas) се разрешава изхвърлянето на следните видове корабни отпадъци:", options: ["синтетични въжета и найлонови торби.", "всякакъв вид пластмасови отпадъци;", "хранителни отпадъци, смесени с мазнини за готвене (cooking oil);", "всякакъв вид хранителни отпадъци, генерирани на кораба, независимо от това дали са смелени /раздробени, или не;"], correct: 3 },
      { question: "Разрешено ли е изхвърлянето на мазнини за готвене (cocking oil) в особените райони (special areas)?", options: ["Да, когато корабът е на ход.", "Разрешено е само от плаващи и стационарни платформи.", "Да, но само от корабите, превозващи повече от 12 души на борда, когато са на ход.", "Не."], correct: 3 },
      { question: "Изискванията на MARPOL Annex V не се отнасят за", options: ["пътнически кораби.", "кораби на подводни криле.", "плаващи и стационарни платформи.", "военните и гранично-полицейските кораби."], correct: 3 },
      { question: "Къде е разрешено изхвърлянето на пластмасови отпадъци?", options: ["На разстояние ≥ 12 морски мили от най-близкия бряг.", "На разстояние ≥ 3 морски мили от най-близкия бряг.", "Извън особените райони (special areas).", "Не е разрешено."], correct: 3 },
      { question: "Изхвърлянето на раздробени хранителни отпадъци от кораби в особени райони (special areas) е разрешено", options: ["на разстояние ≥ 3 морски мили от най-близкия бряг.", "в териториалните води на крайбрежните държави.", "само ако са в найлонови торби.", "на разстояние ≥ 12 морски мили от най-близкия бряг."], correct: 3 },
      { question: "Смес от хранителни отпадъци и мазнини за готвене може да бъде изхвърлена зад борд", options: ["на разстояние ≥ 3 морски мили от най-близкия бряг, ако е раздробена.", "ако корабът плава извън особен район (special area).", "ако корабът се намира в особен район (special area).", "навсякъде, само ако е необходимо за обезпечаване безопасността на кораба и хората на борда или за спасяване на човешки живот на море."], correct: 3 },
      { question: "За кои кораби се прилага MARPOL конвенцията?", options: ["За танкерите и други кораби, които пренасят предимно oil as cargo.", "За всички кораби с изключение на тези заети с крайбрежно плаване.", "За всички с изключение на пътническите кораби.", "За всички кораби, ако не е упоменато друго"], correct: 3 },
      { question: "Ако използвате химикали за почистване на разлив от нефтопродукти във водата, какво трябва да е действието на химикала?", options: ["Да отстрани нефтопродуктите от водата.", "Да абсорбира нефтопродуктите за да може по-лесно да се събере.", "Да ограничи замърсяването с нефтопродукти в малък периметър.", "Да разпръсне и разтвори нефтопродуктите във водата."], correct: 3 },
      { question: "В дневника за нефтени операции се вписват данни и за следните действия в машинно отделение:", options: ["инцидентно изхвърляне на нефт;, превключване системата за автоматично изхвърляне в режим автоматична/ръчна работа; баластиране на товарен трюм.", "изхвърляне на мръсен баласт от горивните танкове; изгаряне на течни отпадъци; изхвърляне на мръсен баласт от баластни танкове.", "изхвърляне на мръсен баласт от горивните танкове; изхвърляне на мръсен баласт от баластни танкове.", "приемане на гориво; изхвърляне на сантинни води; прехвърляне на масло между танкове."], correct: 3 },
      { question: "ИМО издава IMDG Code", options: ["при необходимост.", "на всяка четна година.", "на пет години.", "през три години."], correct: 3 },
      { question: "Термина MHB в IMSBC Code e", options: ["опасен насипен товар.", "вид кораб метановоз.", "метал хидратна батерия.", "вид кораб химикаловоз."], correct: 3 },
      { question: "Конвенцията SOLAS изисква при инцидент с опасен товар", options: ["капитанът да съобщи на товарополучателя.", "капитанът да съобщи на товарособственика.", "капитанът да съобщи на властите на най-близката държава.", "капитанът да съобщи на корабособственика."], correct: 3 },
      { question: "Пестицидите", options: ["се използват за фумигиране на някои от превозваните товари.", "се използват за измиване на танковете при химикаловозите.", "не се използват на корабите.", "са изкуствени торове превозвани, като насипен товар."], correct: 3 },
      { question: "Как се записва в документите името на опасен товар?", options: ["Proper Shipping Name и при нужда техническо име с големи букви.", "Proper Shipping Name - с главни букви и при нужда търговско име в скоби с малки букви.", "Proper Shipping Name - и при нужда търговско име с големи букви.", "Proper Shipping Name - с главни букви и при нужда техническото име в скоби с главна начална и следващи малки букви."], correct: 3 },
      { question: "Какво е PSN - Proper Shipping Name в IMDG Code?", options: ["Няма такъв термин в кодексите за опасни товари.", "Това е правилното име на опасания товар, така както фигурира в IMDG Part III – таблица DGL.", "Това е техническото наименование на опасния товар.", "Това е търговското наименование на опасния товар."], correct: 3 },
      { question: "Каква е разликата между етикет - label и плаката – placard, съгласно IMDG Code ?", options: ["Няма разлика.", "Етикетът показва основния риск на товара, а плаката - допълнителния.", "Етикетът се поставя на товара, а плакатът – на борда на кораба.", "Етикетът е по-малък по размер от плаката."], correct: 3 },
      { question: "Терминът INTACT STABILITY означава", options: ["начална устойчивост.", "устойчивост на пълен (натоварен) кораб.", "устойчивост при малки ъгли на накреняване.", "устойчивост на неповреден кораб."], correct: 3 },
      { question: "Триъгълен знак с размери 50х50х50 см. нанесен на борда на бълкер означава", options: ["специален знак - тонажна марка.", "знак на товарната марка за кораби плаващи само във Великите американски езера.", "знак за регионална товарна марка.", "знак, който е въведен от гл. 12 на SOLAS, за ограничаване на натоварването с тежък насипен товар."], correct: 3 },
      { question: "Допустимата метацентрична височина GМperm е", options: ["по-малка от минималната GMmin.", "по-голяма от минималната GMmin.", "синоним на минималната GMmin и са равни.", "равна или по-голяма от минималната GMmin."], correct: 3 },
      { question: "За недопускане на опасни слемингови натоварвания газенето на носа трябва да бъде", options: ["по-голямо от 0,25 % от дължината на кораба.", "по - голямо от 2, 5 m.", "по-малко от кърмовото.", "по-голямо от 2,5 % от дължината на кораба."], correct: 3 },
      { question: "При крен от 5 градуса на десен борд поради отрицателна метацентрична височина", options: ["приемам баласт във празните танкове на двата борда.", "приемам баласт в празен танк на ляв борд.", "приемам баласт в два празни танкове на двата борда.", "приемам баласт в празен танк на десен борд."], correct: 3 },
      { question: "Двойното дъно на сухо товарните кораби, трябва да се простира, от форпиковата преграда до преградата на ахтерпика и да предпазва", options: ["машинното отделение и горивните танкове.", "дъното и бордовете, от борд до борд, до 30% от лятното газене.", "дъното и бордовете, от борд до борд до лятна товарна водолиния.", "дъното, от борд до борд, до извивката на подводната част на корпуса."], correct: 3 },
      { question: "Кое е най-важното от изброените действие при пожар в товарен трюм, касаещо устойчивостта на кораба?", options: ["да се осигури работата на главната и аварийната пожарни помпи.", "да се маневрира така, че пожарът да остане от подветрената страна.", "да се отделят и изхвърлят зад борд отломките от пожара.", "да се изпомпва зад борд водата, използвана за гасене на пожара."], correct: 3 },
      { question: "Водонепроницаемите закрития се затварят", options: ["всеки ден при приключване на товаро-разтоварните работи.", "когато има щормово предупреждение.", "само по нареждане на капитана.", "при подготовка на кораба за отплаване и при тревога."], correct: 3 },
      { question: "Какъв е минималният брой на напречните водонепроницаеми прегради на товарните кораби, според изискванията на SOLAS?", options: ["Таранна преграда, преграда пред машинното отделение, преграда след машинното отделение, ахтерпикова преграда.", "Форпикова преграда, ахтерпикова преграда плюс още една преграда.", "Пред МО, зад МО и в трюм № 3.", "Таранна преграда, преграда пред машинното отделение, преграда след машинното отделение."], correct: 3 },
      { question: "Защо, на кораба, трябва да има международен пожарен фланец?", options: ["За да свържем товарните шлангове към брега.", "За да свържем утаечните танкове с корабен/брегови приемник.", "За да свържем шланговете за бункероване с кораб/бряг.", "За да свържем корабните и бреговите противопожарни линии."], correct: 3 },
      { question: "Какво регламентира SOLAS, Chapter XII?", options: ["Мерки за безопасност за кораби, опериращи в полярни води.", "Прилагане на ISM Code.", "Мерки за security.", "Допълнителни мерки за безопасност на кораби за насипни товари."], correct: 3 },
      { question: "Enhanced Survey Programme (ESP)", options: ["се прилага за пътнически кораби с над 400 места за пътници.", "се прилага за всички кораби на възраст над 25 години.", "се прилага за танкери и бълкери на възраст над 15 години.", "се прилага за всички кораби на възраст над 15 години."], correct: 3 },
      { question: "SOLAS, Chapter XI-1, Reg.2 \"Enhanced surveys\", се отнася за", options: ["контейнеровози.", "всички видове кораби.", "химикаловози.", "кораби за насипни товари и танкери."], correct: 3 },
      { question: "Бълкерите с къси и дълги трюмове са построени така за", options: ["товарене само в късите трюмове когато имаме малка партида товар.", "да има място за дълги трюмове предназначени за превоз на метален прокат.", "по-добра обща надлъжна здравина на корпуса.", "товарене само в късите трюмове на тежък насипен товар."], correct: 3 },
      { question: "В задимен канижел, къде е най-чистият въздух и как трябва да излезете навън?", options: ["Близо до най-високите части, прав опитвайки се да бъда колкото се може по-висок.", "Ситуацията е същата както и в други помещения, затова ще напусна по най-бързия начин.", "Ще седя и чакам спасителният отряд.", "Близко до палубата, пълзейки на ръце и колене с лице близо до палубата."], correct: 3 },
      { question: "В случай на пожар на кораба, как трябва да се променят курса и скоростта на кораба?", options: ["Да се остави вятъра по кърмата за да се намали притока на кислород.", "Да се поддържа, по възможност, носа на кораба срещу вятъра.", "Да се поддържа същият курс и скорост.", "Да се намали скоростта и ако е възможно района на пожара да се поддържа от подветрената страна на кораба."], correct: 3 },
      { question: "Вие сте на вахта на мостика през тъмната част от денонощието, на кораб в движение, като навигационен офицер когато е докладвано за пожар в моряшкия салет. Какво е първото нещо което трябва да направите?", options: ["Да отидете по възможно най бързия начин до мястото на възникналия пожар и да започнете да го гасите с всички налични средства.", "Да се обадите на капитана.", "Да изпратите вахтения моряк да провери на место и да ви докладва.", "Да задействате противопожарната сигнализация."], correct: 3 },
      { question: "Докато сте в машинно отделение чувате алармата за активиране на СО2 системата, какво би трябвало да направите?", options: ["Тъй като СО2 системата не може да ви убие, погрижи се за текущата работа и напусни машинно отделение.", "Да отидете в ЦПУ и да се обадите на мостика за инструкции.", "Да не се предприема нищо, тъй като най-вероятно някой тества системата, тъй като пожарната аларма не е била задействана и няма пожар в машинно отделение.", "Да напуснете машинно отделение колкото е възможно по-бързо и да затворите вратите зад себе си."], correct: 3 },
      { question: "Индикатор от противопожарната система сигнализира пожар в товарно помещение с генерален товар. Какво е първото нещо което трябва да направите?", options: ["Да пуснете пожарна помпа, да отворите капаците и да започнете да гасите пожара с морска вода.", "Да проверите ситуацията на място преди да вземете решение за начина на гасене на пожара.", "Да използвате централната газова противопожарна система за да загасите пожара.", "Да затворите вентилационните и всички други отвори на хамбара за да спрете притока на кислород."], correct: 3 },
      { question: "Стационарните пожарогасителни системи са следните видове.", options: ["Въгледвуокисни, пенни с високократна пяна и оросителни.", "Въгледвуокисни и оросителни.", "Газови, пенни и оросителни под налягане.", "Газови, пенни с високократна пяна и оросителни под налягане."], correct: 3 },
      { question: "Плътната водна струя, при гасене на възпламенени нефтопродукти се използва за", options: ["директно гасене на пожара.", "създаване на водна преграда между пожара и пожарникарите.", "гасене на пожар в служебните помещения.", "охлаждане на стените, бордовете или палубите, граничещи с пожара."], correct: 3 },
      { question: "Парогасенето е най-ефективно при гасене на пожари в", options: ["товарни трюмове.", "машинни помещения.", "жилищни и служебни помещения.", "горивни танкове и цистерни."], correct: 3 },
      { question: "Възможността за възникване на пожар се определя от едновременното наличие на", options: ["дървени предмети, хартия и огън.", "кислород, въглероден диоксид и азот.", "горива и масла, огън и въглероден диоксид.", "горимо вещество, кислород и източник на запалване."], correct: 3 },
      { question: "Структурната противопожарна защита включва разделянето на", options: ["защитени от огън помещения.", "метод за откриване на пожари.", "противопожарни инсталации и съоръжения.", "хоризонтални и вертикални зони."], correct: 3 },
      { question: "Ефектът на действие на водата върху пожара се увеличава, ако се използва", options: ["при високо налягане.", "като факел.", "в дисперсно състояние.", "плътна водна струя."], correct: 3 },
      { question: "Най-разпространеното и достъпно средство за гасене на пожари на всички кораби е", options: ["въглероден диоксид.", "химическа пяна.", "прахови пожарогасителни средства.", "вода."], correct: 3 },
      { question: "При пожар в кухнята, електрическата инсталация, навигационни и други средства под ел.напрежение, най-подходящото средство за гасене е", options: ["химическа пяна.", "въглероден двуокис.", "плътна водна струя.", "прахови средства."], correct: 3 },
      { question: "Как се насочва пенната струя към горящи хоризонтални повърхности", options: ["към средата на повърхността.", "към най-близкия край на огнището.", "облива се с кръгови движения по часовата стрелка.", "към краищата на огнището и постепенно се премества към центъра."], correct: 3 },
      { question: "Какво трябва да бъде направено преди да бъде стартирана централна газова система за гасене на пожар в машинно отделение, товарно помещение или друго затворено помещение?", options: ["Спри всички машини.", "Всички отвори на помещението трябва да бъдат затворени.", "Изгаси котлите.", "Проверете дали всички членове на екипажа са напуснали помещението."], correct: 3 },
      { question: "Какъв клас пожар е тлеещият пожар от дървен, текстилен, хартиен и други карбонатни материали?", options: ["Class D", "Class B", "Class C", "Class A"], correct: 3 },
      { question: "Какъв тип пожарогасители трябва да се използват в машинно отделение?", options: ["Само водни пожарогасители.", "Само преносими пожарогасители.", "Всеки един пожарогасител с тегло по-малко от 100 lbs.", "СО2 и прахови пожарогасители."], correct: 3 },
      { question: "Какъв тип струйници за пожарните шлангове трябва да се използват на борда на кораба)?", options: ["Комбиниран тип (с разпръсната/плътна струя).", "С плътна струя.", "С разпръсната струя.", "Комбиниран тип - с разпръсната и със плътна струя, и със спирателен кран."], correct: 3 },
      { question: "Като основно правило - къде могат да се държат бутилки с пожарогасително вещество, различно от пара?", options: ["В помещението, което трябва да бъде гасено.", "В студено помещение.", "Над главна палуба.", "Извън помещението, което трябва да бъде гасено."], correct: 3 },
      { question: "Кои от следните действия имат най-голям ефект при борба с пожар?", options: ["Всички противопожарни групи са организирани по възможно най-бързия начин.", "Всички възможни средства за гасене на пожара са донесени на място.", "Старши помощник капитана е известен.", "Гасенето на пожара е започнало веднага."], correct: 3 },
      { question: "Колко пълни комплекта пожарникарско оборудване трябва да има на кораба?", options: ["Най-малко четири.", "Най-малко един.", "Най-малко три.", "Най-малко два."], correct: 3 },
      { question: "По време на нощна обиколка виждате дим излизащ под вратата на затворена кабина. Какво трябва първо да се направи?", options: ["Да се погледне в кабината за да се види каква е ситуацията.", "Да се вземе най-близкия пожарогасител, след това да се отвори вратата и да се провери каква е ситуацията.", "Тъй като повечето хора спят, да се извика приятел за да помогне при гасенето на пожара.", "Да се натисне най-близкия бутон за активиране на пожарната аларма и да се уведоми мостика за мястото на пожара."], correct: 3 },
      { question: "По време на преход към разтоварното пристанище, теста за температурата в хамбар с въглища показва, че вътре има пожар. Какво трябва да направите?", options: ["Да напълните хамбара с морска вода.", "Да се обадите за помощ от корабите в района или от специализиран спасителен кораб.", "Да отворите капаците и да покриете повърхността на товара с пяна.", "Да затворите вентилационните и всички други отвори на въпросният хамбар."], correct: 3 },
      { question: "Защо никога не трябва да изливате вода в гореща мазнина?", options: ["Водата ще премине в пара и ще предизвика мазнината да експлодира.", "Мазнината ще се сгъсти веднага и ще се наложи да я подгрявате отново.", "Мазнината ще се пресече и няма да става за употреба.", "Водата ще се пръсне във вид на пара и горещата мазнина ще бъде изхвърлена надалече, което може да причини сериозни изгаряния и пожар."], correct: 3 },
      { question: "Какво количество вода ще раздадете на всяко лице, като командир на спасителна лодка с която сте напуснали кораба?", options: ["През първите 48 часа няма да раздам, а след това по 1/4 литър на ден ( в тропиците повече).", "1/2 литър веднага, а след това по 1/4 на ден (в тропиците повече).", "През първите 24 часа няма да раздам, а след това по 1/4 литър на ден ( в тропиците повече).", "През първите 24 часа няма да раздам, а след това по 1/2 литър на ден ( в тропиците повече)."], correct: 3 },
      { question: "Кой е най добрият начин за качване в спасителен плот плаващ близо до кораба, ако позволяват условията?", options: ["Да се облече спасителна риза и да се скочи във водата близо до плота след което да се доплува до него.", "Да се скочи във водата без спасителна риза, за да се доплува по-лесно до сала и да се качи на него.", "Да се скочи върху спасителния плот.", "Да се използва въженият трап за да се слезе до плота и да се качи на него."], correct: 3 },
      { question: "Кога трябва да бъде извършван визуален оглед на лодбалка на спасителна лодка на товарен кораб?", options: ["При месечните инспекции и тренировки.", "При необходимост.", "На всеки три месеца.", "През всяка седмица."], correct: 3 },
      { question: "След напускане на кораб при бедствено положение, спасителните средства с екипажа трябва", options: ["да се разпръснат, за да увеличат вероятността за откриване.", "да се движат една след друга.", "да се насочат към най-близкия бряг.", "да останат заедно в района на бедствието."], correct: 3 },
      { question: "За какво се използва sea-anchor?", options: ["Да регулира скоростта на на спасителната лодка.", "Да поддържа спасителната лодка в близост до кораба.", "Да бъде по-добър сигнал за спасителните въздушни средства търсещи бедстващи хора.", "Да поддържа спасителната лодка срещу вятъра/вълната."], correct: 3 },
      { question: "Как трябва да бъде закрепена към кораба, въжето на спасителен плот с хидростатичен освобождаващ механизъм?", options: ["Не трябва да е закрепена по какъвто и да е начин.", "Трябва да бъде закрепена директно към кораба.", "Трябва да бъде закрепена към част от хидростатичния освобождаващ механизъм, който е проектиран да я освободи.", "Трябва да бъде закрепен към кораба със слаба връзка (weak link)."], correct: 3 },
      { question: "Каква е ролята на \"painter\" на спасителната лодка?", options: ["Да поддържа спасителната лодка срещу вятъра/вълната.", "Да предпази спасителната лодка да се отдалечи от кораба.", "Да регулира скоростта на на спасителната лодка.", "Да поддържа спасителната лодка в правилна позиция, близо до борда на кораба."], correct: 3 },
      { question: "Какво количество вода на човек трябва да има в спасителен плот, който не е оборудвана с дестилатор?", options: ["2 литра", "5 литра", "3 литра", "1.5 литра"], correct: 3 },
      { question: "Какво количество вода на човек трябва да има в спасителна лодка, която не е оборудвана с дестилатор?", options: ["2 litres.", "5 litres.", "1.5 litres.", "3 litres."], correct: 3 },
      { question: "Когато сте се качили вече на спасителния плот, как освобождавате фалината (the painter)?", options: ["Като освободя щифта за бързо освобождаване.", "Ще изчакам слабата връзка да се скъса.", "Като я прережа с брадвичката от спасителното оборудване на спасителния плот.", "Като я прережа със ножа от спасителното оборудване на спасителния плот."], correct: 3 },
      { question: "Напуснали сте кораба със спасителен плот. Кое от следните действия би трябвало да направите?", options: ["Да се пусне морската котва (sea anchor).", "Да се организира наблюдение.", "Да се гребе в посока към най-близкия бряг.", "Да се организира наблюдение и по възможност да се присъедини към другите спасителни средства. Да се пусне морската котва (sea anchor)."], correct: 3 },
      { question: "С каква скорост, пълно натоварена с хора и снабдяване спасителна лодка, трябва да може да се движи в тиха вода и за колко време?", options: ["3 възела и 24 часа.", "4 възела и 48 часа.", "10 възела и 24 часа.", "6 възела и 24 часа."], correct: 3 },
      { question: "С колко хранителни провизии на човек трябва е снабден спасителния плот?", options: ["Не е необходимо да има - само специални бонбони \"barley sugar sweets\".", "Не по-малко от 5000 kJ.", "Не по-малко от 20000 kJ.", "Не по-малко от 10000 kJ."], correct: 3 },
      { question: "Сладката вода в спасителната лодка е на свършване. Какво ще направите?", options: ["Ще смеся 25% сладка вода с 75% морска вода.", "Ще използвам морска вода.", "Ще смеся 50% сладка вода с 50% морска вода.", "Ще събирам дъждовна вода."], correct: 3 },
      { question: "Спасителната риза трябва да е снабдена с", options: ["свирка, светеща лампа и димна шашка.", "свирка.", "светеща лампа.", "свирка и светеща лампа."], correct: 3 },
      { question: "Дежурната лодка трябва да може да се спуска при скорост на кораба", options: ["0 вз. (без ход).", "до 3 вз.", "до 2 вз.", "до 5 вз."], correct: 3 },
      { question: "Спасителната риза, при правилно поставяне, позволява безопасно скачане във водата", options: ["от 0m, не се скача със спасителна риза.", "от височина до 4 метра.", "от височина не повече от 2 м.", "от височина до 4.5m."], correct: 3 },
      { question: "Спусковите устройства на спасителните лодки и дежурната лодка на сухотоварните кораби трябва да осигуряват", options: ["безопасно спускане, само от екипа, при нормални условия на море.", "безопасно спускане само със спусковата команда при диферент на кораба до 10 градуса и крен до 20 градуса на всеки борд.", "безопасно спускане на лодка с 150 човека при диферент на кораба до 15 градуса и крен до 25 градуса на всеки борд.", "безопасно спускане при пълно натоварване с хора и снабдяване при диферент на кораба до 10 градуса и крен до 20 градуса на всеки борд."], correct: 3 },
      { question: "Дежурните лодки трябва да се спускат с екипажа си и да извършват маневри на вода", options: ["всеки месец.", "на всеки два месеца.", "на всеки четири месеца.", "всеки месец, ако е приложимо, но не по-малко от веднъж на всеки три месеца."], correct: 3 },
      { question: "Спасителната риза трябва да може да се облича правилно без чужда помощ за не повече от", options: ["4 минути.", "2 минути.", "3 минути.", "1 минута."], correct: 3 },
      { question: "Всички спасителни средства, след сигнал за напускане на товарен кораб, трябва да бъдат спуснати с хора и снабдяване за не повече от", options: ["30 минути.", "20 минути.", "15 минути.", "10 минути."], correct: 3 },
      { question: "Хидрокостюмът е предназначен да се носи без спасителна риза", options: ["когато има собствена плавучест и е снабден с лампа и свирка.", "при плаване в топли райони.", "когато времето е много студено.", "във всички случаи, ако е снабден със свирка и лампа."], correct: 3 },
      { question: "Спасителните средства се разполагат на кораба", options: ["вертикално едно над друго.", "на една палуба.", "да могат да бъдат обслужвани едновременно със съседните.", "така, че да не си пречат."], correct: 3 },
      { question: "Общокорабната аварийна сигнализация се проверява", options: ["всеки месец.", "на две седмици веднъж.", "при корабни учения.", "всяка седмица."], correct: 3 },
      { question: "Спирачките на спусковото устройство трябва да могат да спират спускането на лодката с хора и снабдяване", options: ["за 5 секунди от спускането.", "за 2 секунди от спускането.", "на един метър от разстоянието на спускането.", "по всяко време на спускането."], correct: 3 },
      { question: "Надуваемите спасителни плотове се освидетелстват най-малко на", options: ["6 месеца.", "9 месеца.", "18 месеца.", "12 месеца."], correct: 3 },
      { question: "Когато оказвате помощ на човек с трета степен изгаряне, вие трябва", options: ["да потопите обгорелите места в студена вода.", "да обработите обгорелите места с дезинфекциращ разтвор.", "да изправите пострадалия и го накарате да ходи за да ускори кръвообращението си.", "да покриете обгорелите места с дебели, стерилни наметки."], correct: 3 },
      { question: "От какво е заплашен бедстващ на море?", options: ["Настинка.", "Грип.", "Счупен крайник.", "Хипотермия."], correct: 3 },
      { question: "Стенокардията (\"Гръдна жаба\", Ангина пакторис) е заболяване на", options: ["горните дихателни пътища.", "белия дроб.", "бъбреците.", "сърцето."], correct: 3 },
      { question: "Гастритът е възпаление на", options: ["черния дроб.", "червата.", "гърдите.", "стомаха."], correct: 3 },
      { question: "Гръдната болка при стенокардия (гръдна жаба) се повлиява от", options: ["аналгин.", "антибиотик.", "стенокардин.", "нитроглицерин."], correct: 3 },
      { question: "Гръдната болка при инфаркт се повлиява от", options: ["аналгин.", "антибиотик.", "стенокардин.", "нитроглицерин."], correct: 3 },
      { question: "За какво се използва Medico Message?", options: ["Medico е сертификат, който дава право на капитана да бъде доктор на кораба.", "За даване на редовна информация за състоянието на екипажа на кораба.", "Запитване здравните служби на следващото пристанище за свободна практика по радиото.", "Запитване до болница за медицинска помощ по радиото когато е необходимо."], correct: 3 },
      { question: "Как ще се погрижите за лице страдащо от морска болест?", options: ["Ще го окуражите да изпие голямо количество хладка морска вода.", "Ще го накарате да яде някаква мазна храна.", "Давайте му хапчета против морска болест, докато спре да повръща.", "Ще го поставите да легне или ще го изведете навън да вдиша свеж въздух."], correct: 3 },
      { question: "Как ще се погрижите за лице, което е било изложено на горещо?", options: ["Ще му дам силен коктейл с много лед.", "Ще му дам топла и пикантна храна.", "Ще му дам само топла вода.", "Ще му дам студени напитки и сол."], correct: 3 },
      { question: "Как ще се погрижите за лице, което е било изложено на студ?", options: ["Ще му дам свинско и мазна риба.", "Ще му дам коняк, уиски или други силни питиета.", "Ще му дам само плодове и зеленчуци.", "Ще му дам топли хранителни напитки."], correct: 3 },
      { question: "Главната рулева машина трябва да може да премества руля", options: ["от 35 градуса на единия борд до 35 градуса на другия борд при нормални условия.", "от 27 градуса на единия борд до 27 градуса на другия борд при максимално газене и скорост по-голяма от 7 възела за 60 сек.", "от 15 градуса на единия борд до 15 градуса на другия борд при максимално газене и скорост по-голяма от 7 възела, за 60 сек.", "от 35 градуса на единия борд до 35 градуса на другия борд, при максимално газене и максимална скорост напред."], correct: 3 },
      { question: "Аварийният пост за управление на кораба трябва да бъде снабден с", options: ["радиостанция.", "радиолокационна станция.", "телефон или други средства за комуникация с командния мостик.", "магнитен компас и жирокомпас, и радиостанция."], correct: 3 },
      { question: "При навлизане в райони с оживен трафик, намалена видимост и други опасности вахтеният помощник капитан трябва да разпореди на рулевия", options: ["да предупреди рулевия за очаквани опасности.", "да изчака нарежданията на капитана.", "да изпробва ръчното управление и да бъде готов за поемане на управлението на руля.", "да превключи рулевото устройство от автопилот на ръчно управление."], correct: 3 },
      { question: "Проверката на рулевото устройство, преди отплаване, трябва да включва", options: ["почистване и смазване на зъбните предавки.", "проверка състоянието на рулевата машина.", "визуален оглед на перото на руля.", "пълно развъртане на перото на руля с всяка рулева машина според изискваните възможности на устройството."], correct: 3 },
      { question: "Проверката за наличието на газ в бутилките на СО2 системата се извършва не по-късно от", options: ["6 месеца.", "9 месеца.", "18 месеца.", "12 месеца."], correct: 3 },
      { question: "Преградите “клас А” са", options: ["А-90; А-60; А-30; А-0", "А-30; А-15; А-0", "А-60; А-30; А-0", "А-60; А-30; А-15; А-0"], correct: 3 },
      { question: "Колко трябва да е пътниковместимоста в спасителните лодки на товарен кораб с дължина по-голяма от 85 метра?", options: ["Трябва да е на 150% от всички лица на борда на двата борда.", "Трябва да е на 50% от всички лица на борда на двата борда.", "Трябва да е на 125% от всички лица на борда на двата борда.", "Лодката на всеки борд трябва да поеме 100% от всички лица на кораба."], correct: 3 },
      { question: "Ако отговаряте за противопожарната група, колко най-малко хора облечени с дихателни апарати ще позволиш да влязат в задимено помещение.", options: ["4 души.", "3 души.", "1 човек.", "2 души."], correct: 3 },
      { question: "В случай на бедствена ситуация, колко пъти или колко продължително трябва да се подава сигнал с аварийно-алармена сигнализация?", options: ["Докато се подаде сигнал, че \"опасността е отминала\" или сигнал \"напускане на кораба\".", "Автоматично задействане активиращо пожарната сигнализация в помещенията с присъствие на хора.", "3 минути.", "Докато се докладва, че всички членове на екипажа и пътниците са на съответните сборни места."], correct: 3 },
      { question: "Какви мерки трябва да се вземат против образуването на възпламенителни газове на повърхността на товар от въглища.", options: ["Да се държат капаците и вентилационните отвори затворени и да не се допуска приток на свеж въздух.", "Да се покрие повърхността на товара с брезент.", "Да се напръска с вода повърхността на товара при завършване на товаренето.", "Да се вентилира товарното помещението периодично, като изисква IMSBC Code."], correct: 3 },
      { question: "Какъв е общокорабният сигнал за тревога съгласно SOLAS?", options: ["Продължително звънене на корабните звънци.", "Шест или повече къси сигнали последвани от един дълъг.", "Един дълъг сигнал последван от шест къси сигнали.", "Седем или повече къси сигнали последвани от един дълъг."], correct: 3 },
      { question: "Какъв е сигналът, ако има такъв, определен в SOLAS като напускане на кораб \"Abandon ship\" сигнал?", options: ["шест къси сигнала последвани от един дълъг.", "четири дълги сигнала.", "шест къси сигнала последвани от един дълъг.", "Няма отделен сигнал за напускане на кораб \"Abandon ship\", само сигнал за общокорабна тревога е определен."], correct: 3 },
      { question: "Колко често трябва да се провежда тревога за напускане на кораба на пътнически кораб, съгласно SOLAS?", options: ["Един път на всеки три седмици.", "Един път на всяка втора седмица.", "Един път месечно.", "Седмично."], correct: 3 },
      { question: "По време на евакуация на ранен човек с хеликоптер, какъв курс трябва да поддържа кораба?", options: ["С вятър по носа от противоположният борд на който работи хеликоптера.", "С вятър по кърмата, така че да се намали ефекта от вятъра колкото е възможно повече.", "Срещу вятъра.", "Съгласно инструкциите получени от пилота на хеликоптера."], correct: 3 },
      { question: "Съгласно SOLAS, на колко време всяка спасителна лодка трябва да се спуска на вода и да маневрира с разписания екипаж?", options: ["Поне един път на шест месеца.", "Един път на година.", "Поне един път на три месеца.", "Всеки месец."], correct: 3 },
      { question: "Съгласно SOLAS, на колко време всеки един член на екипажа на търговски кораб трябва да участва в едно учение за напускане на кораба и едно противопожарно учение", options: ["Един път на всеки 6 месеца.", "Един път на всеки 2 месеца.", "Един път на всеки 3 месеца.", "Един път на всеки месец."], correct: 3 },
      { question: "При реанимация (CPR) съотношението между броя притискания на гърдите и броя изкуствено дишанe е:", options: ["15 към 2", "5 към 1", "10 към 2", "30 към 2"], correct: 3 },
      { question: "Без кислород човешкият мозък умира за:", options: ["45 sec", "15 минути", "5 минути", "30 минути"], correct: 3 },
      { question: "Когато пострадалият е в шок веднага трябва да :", options: ["да започнем CPR", "го поставим да легне и повдигнем краката 30-45 см", "се обадим на приятелите му", "попитаме какво се е случило"], correct: 3 },
      { question: "При външно кървене, методите за контрол са:", options: ["поемането на течности", "поставяне на стерилна превръзка", "поставяне на турникет", "директно притискане; повдигане; директно притискане върху точки за компресия;"], correct: 3 },
      { question: "При топлинен удар трябва да намалим температурата на тялото като:", options: ["поставим лед на мишниците", "съблечем пострадалия и завием с мокри чаршафи", "осигурим памучни дрехи", "покрием с одеяло"], correct: 3 },
      { question: "Всяка травма на главата изисква внимателно наблюдение най-малко в продължение на:", options: ["1 седмица", "1 година", "1 час", "24 часа"], correct: 3 },
      { question: "Основни симптоми на шока :", options: ["висока температура", "слабост; хладна, бледа, лепкава кожа; ускорен или забавен пулс плитко,неравномерно дишане, ниско кръвно налягане", "нарушено съзнание", "слабост; хладна, бледа, лепкава кожа; учестен, слаб или отсъстващ пулс; плитко, неравномерно дишане; ниско кръвно налягане; нарушено съзнание"], correct: 3 },
      { question: "За какво се използва International Health Certificate?", options: ["За даване на право на доктора на кораба да лекува.", "За даване на редовна информация за състоянието на екипажа на кораба.", "Запитване здравните служби на следващото пристанище за свободна практика по радиото.", "Медицински сертификат за здравословното състояние на екипажа на кораба."], correct: 3 },
      { question: "Конвенцията SOLAS изисква за определени кораби да имат програма за засилен преглед ESP. За кои кораби се отнася тази програма?", options: ["Контейнеровози.", "Всички видове кораби.", "Химикаловози.", "Кораби за насипни товари и танкери."], correct: 3 },
      { question: "Колко време трябва да работи аварийната помпа?", options: ["1 час.", "2 часа.", "4 часа.", "3 часа."], correct: 3 },
      { question: "Къде трябва да се намира аварийната помпа?", options: ["В машинно отделение.", "В близост до машинно отделение.", "На мостика.", "Извън машинно отделение."], correct: 3 },
      { question: "Кое от следните твърдения е вярно за IMO Резолюция А.744(18)?", options: ["Тя се отнася за безопасност на навигацията.", "Тя се отнася до предотвратяване замърсяването на морската среда.", "Тя одобрява наръчника за поддържане на товаро-разтоварни операции.", "Тя се отнася до насоките за засилени прегледи на бълкери и нефтени танкери."], correct: 3 },
      { question: "Правилник №11 от Annex I на MARPOL 73/78 забранява изхвърлянето зад борд на", options: ["баластни води от горивни танкове.", "сантинни води.", "баластни води от товарни танкове на танкери.", "нефтосъдържащи смеси с концентрация на нефт над 15 ppm от МО."], correct: 3 },
      { question: "Съгласно SOLAS, всички външни и вътрешни водонепроницаеми врати, които се управляват дистанционно трябва да бъдат проверявани", options: ["ежеседмично.", "ежемесечно.", "ежедневно.", "седмично."], correct: 3 },
      { question: "Всички съдове, под налягане, трябва да бъдат проверявани от инспектора на класификационна организация:", options: ["веднъж годишно.", "веднъж на 2,5 години.", "веднъж на 4 години.", "веднъж на 5 години."], correct: 3 },
      { question: "Какво означава термина SLOSHING?", options: ["Това е общо надлъжно натоварване на корпуса на кораба.", "Това е общо напречно натоварване на корпуса на кораба.", "Това е деформация на корпуса на кораба поради неравномерно натоварване.", "Динамичното натоварване на конструкцията на танкове при превоз на течни товари."], correct: 3 },
      { question: "Какво означава термина SWEALING?", options: ["Това е общо надлъжно натоварване на корпуса на кораба.", "Това е общо напречно натоварване на корпуса на кораба.", "Това е деформация на корпуса на кораба поради неравномерно натоварване.", "Това е претоварване на конструкцията на танкове при превоз на течни товари."], correct: 3 },
      { question: "Кой от изброените термини, не е фактор на външна устойчивост?", options: ["Кръгов момент на устойчивост.", "Свободна повърхност.", "Метеорологични условия.", "Вълнение на морето."], correct: 3 },
      { question: "Каква е максималната разлика в газенето между носа и кърмата, на товарен кораб, която се счита, за допустима за безопасно плаване?", options: ["Разликата в газенето между носа и кърмата не трябва да превишава 0.25 от дължината на кораба.", "Разликата в газенето между носа и кърмата не трябва да превишава 0.50 от дължината на кораба.", "Разликата в газенето между носа и кърмата не трябва да превишава 0.75 от дължината на кораба.", "Разликата в газенето между носа и кърмата не трябва да превишава 1.0 от дължината на кораба."], correct: 3 },
      { question: "Колко време трябва да работи главната противопожарна помпа?", options: ["1 час.", "2 часа.", "4 часа.", "3 часа."], correct: 3 },
      { question: "В кое от изброените помещения е забранено превозването на опасни товари?", options: ["В машинното отделение.", "В жилищните помещения.", "В товарния трюм.", "На мостика."], correct: 3 },
      { question: "Ако на кораба има радиоизотопни източници, с какъв знак трябва да са обозначени?", options: ["С знак за пожарна опасност.", "С знак за опасност от експлозия.", "С знак за опасност от отравяне.", "С знак за радиационна опасност."], correct: 3 },
      { question: "Какво е времето за отваряне на водонепроницаеми врати, управлявани от мостика?", options: ["10 сек.", "20 сек.", "30 сек.", "60 сек."], correct: 3 },
      { question: "Колко напълно обучени екипажа трябва да има на кораба, за да работят с водонепроницаемите врати?", options: ["Един.", "Два.", "Три.", "Четири."], correct: 3 },
      { question: "Колко дежурни лодки трябва да има на товарен кораб с дължина по-голяма от 85 метра?", options: ["Една.", "Две.", "Три.", "Четири."], correct: 3 },
      
];
        shuffleArray(allQuestions);
    allQuestions.forEach(q => {
      const correctText = q.options[q.correct];
      shuffleArray(q.options);
      q.correct = q.options.indexOf(correctText);
    });

    const selectedQuestions = allQuestions;
    let currentIndex = 0;
    let userAnswers = Array(selectedQuestions.length).fill(null);

    function renderNavigation() {
      const navDiv = document.getElementById("navigation");
      navDiv.innerHTML = "";
      for (let i = 0; i < selectedQuestions.length; i++) {
        const btn = document.createElement("button");
        btn.textContent = i + 1;
        btn.className = "nav-button";

        if (i === currentIndex) btn.classList.add("active");
        if (userAnswers[i] !== null) {
          const isCorrect = userAnswers[i] === selectedQuestions[i].options[selectedQuestions[i].correct];
          btn.classList.add(isCorrect ? "correct" : "incorrect");
        }

        btn.onclick = () => {
          currentIndex = i;
          renderQuestion();
        };
        navDiv.appendChild(btn);
      }
    }

    function renderQuestion() {
      renderNavigation();
      const q = selectedQuestions[currentIndex];
      const container = document.getElementById("quiz-container");
      container.innerHTML = "";

      const box = document.createElement("div");
      box.className = "question-box";

      const qText = document.createElement("div");
      qText.className = "question-text";
      qText.textContent = (currentIndex + 1) + ". " + q.question;
      box.appendChild(qText);

      const options = [...q.options];
      const labels = ['A', 'B', 'C', 'D'];

      options.forEach((opt, index) => {
        const btn = document.createElement("button");
        btn.textContent = `${labels[index]}. ${opt}`;
        btn.className = "option";

        if (userAnswers[currentIndex] !== null) {
          btn.classList.add("disabled");
          if (opt === q.options[q.correct]) {
            btn.classList.add("correct");
          } else if (opt === userAnswers[currentIndex]) {
            btn.classList.add("incorrect");
          }
        } else {
          btn.onclick = () => {
            userAnswers[currentIndex] = opt;
            renderQuestion();
            updateScoreboard();
          };
        }

        box.appendChild(btn);
      });

      const nextButton = document.createElement("button");
      nextButton.className = "next-button";
      nextButton.textContent = currentIndex === selectedQuestions.length - 1 ? "Завърши теста" : "Следващ въпрос";
      nextButton.onclick = () => {
        if (currentIndex === selectedQuestions.length - 1) {
          calculateResults();
        } else {
          currentIndex++;
          renderQuestion();
        }
      };
      box.appendChild(nextButton);

      container.appendChild(box);
    }

    function updateScoreboard() {
      const scoreboard = document.getElementById("scoreboard");
      let correct = 0, incorrect = 0;
      userAnswers.forEach((ans, idx) => {
        if (ans !== null) {
          const correctAns = selectedQuestions[idx].options[selectedQuestions[idx].correct];
          if (ans === correctAns) correct++;
          else incorrect++;
        }
      });
      scoreboard.textContent = `Верен: ${correct} | Грешен: ${incorrect}`;
    }

    function calculateResults() {
      let correctCount = 0;
      userAnswers.forEach((answer, index) => {
        if (answer === selectedQuestions[index].options[selectedQuestions[index].correct]) {
          correctCount++;
        }
      });
      alert("Вие отговорихте правилно на " + correctCount + " от " + selectedQuestions.length + " въпроса.");
    }

    renderQuestion();
  </script>
</body>
</html>
